<!DOCTYPE html>
<html lang="en">

    <%- include('../partials/head') %>
    <link rel="stylesheet" href="/css/style-register.css">
    <link rel="stylesheet" href="/css/style-invalid-Input.css"
</head>


<body>
    <%- include('../partials/header') %>

    <main class="fondoImagen">
        <div class="errors">
             
        </div>
        
        <div class="formulario">
            <form action="/users/register" method="POST" enctype="multipart/form-data">

                <h2>Crea tu cuenta</h2>
                <div class="name-and-surname">
                    <div class="item-input">
                        <div class="input-user">
                            <label for="name">Nombre* </label>
                        </div>
                        <input type="text" name="name" id="name"
                        class="controls  <%= locals.errors && errors.name ? 'is-invalid': null  %> "
                          value = "<%= locals.oldData ? oldData.name : null %>"
                        >
                        <% if (locals.errors && errors.name) {%>
                            <div class="error-text">
                               <p><%= errors.name.msg %> </p> 
                            </div>
                           <% } %>  
                    </div>

                    <div class="item-input">
                        <div class="input-user">
                            <label for="lastName">Apellido* </label>
                        </div>
                        <input type="text" name="lastName" id="lastName"
                         class="controls  <%= locals.errors && errors.lastName ? 'is-invalid': null  %> "  
                         value = "<%= locals.oldData ? oldData.lastName : null %>"
                         >
                         <% if (locals.errors && errors.lastName) {%>
                            <div class="error-text">
                               <p><%= errors.lastName.msg %> </p> 
                            </div>
                           <% } %>  
                    </div>
                </div>
                <div class="users">

                    <div class="item-input">
                        <div class="input-user">
                            <label for="username">Usuario* </label>
                        </div>
                        <input  type="text" name="username" id="username"
                        class="controls  <%= locals.errors && errors.username ? 'is-invalid': null  %> " 
                        value = "<%= locals.oldData ? oldData.username : null %>">
                        <% if (locals.errors && errors.username) {%>
                            <div class="error-text">
                               <p><%= errors.username.msg %> </p> 
                            </div>
                           <% } %>  
                    </div>

                    <div class="item-input">
                        <div class="input-user">
                            <label for="email">Email* </label>
                        </div>
                        <input type="email" name="email" id="email"
                        class="controls  <%= locals.errors && errors.email ? 'is-invalid': null  %> "  
                        value = "<%= locals.oldData ? oldData.email : null %>"
                        >
                        <% if (locals.errors && errors.email) {%>
                            <div class="error-text">
                               <p><%= errors.email.msg %></p>  
                            </div>
                           <% } %>  
                    </div>

                    <div class="item-input">
                        <div class="input-user">
                            <label for="password">Contraseña* </label>
                        </div>
                        <input type="password" name="password" id="password"
                        class="controls  <%= locals.errors && errors.password ? 'is-invalid': null  %> "  
                        value = "<%= locals.oldData ? oldData.password : null %>"
                        >
                        <% if (locals.errors && errors.password) {%>
                            <div class="error-text">
                               <p><%= errors.password.msg %></p>  
                            </div>
                           <% } %>  
                    </div>

                    <div class="item-input">
                        <div class="input-user">
                            <label for="passwordConfirm">Repetir Contraseña* </label>
                        </div>
                        <input type="password" name="passwordConfirm" id="passwordConfirm"
                         class="controls  <%= locals.errors && errors.passwordConfirm ? 'is-invalid': null  %> ">
                         <% if (locals.errors && errors.passwordConfirm) {%>
                            <div class="error-text">
                               <p><%= errors.passwordConfirm.msg %></p>  
                            </div>
                           <% } %> 
                    </div>

                    <div class="item-input">
                        <div class="input-user">
                            <label for="country_id">Elegí tu país* </label>
                        </div>
                        <select name="country_id" class="select-city">
                            <% countries.forEach(country => { %>
                             <option value="<%= country.id%>"> <%=country.countryName%></option>   
                           <% }) %> 
                           
                        </select>
                    </div>

                    <div class="item-input">
                        <div class="input-user">
                            <label for="city_id">Elegí tu ciudad* </label>
                        </div>
                        <select name="city_id" class="select-city">
                            <% citys.forEach(city => { %>
                             <option value="<%= city.id%>"> <%=city.cityName%></option>   
                           <% }) %> 
                           
                        </select>
                    </div>

                    <div class="item-input">
                        <div class="input-user">
                            <label for="imageUser">Elija su foto de perfil*</label>
                        </div>
                            <input class="controls"  type="file" name="imageUser" id="imageUser"
                            value = "<%= locals.oldData ? oldData.imageUser : null %>"
                            >
                            <% if (locals.errors && errors.imageUser) {%>
                                <div class="error-text">
                                   <p><%= errors.imageUser.msg %></p>  
                                </div>
                               <% } %>  
                    </div>
                </div>
                        
                <div class="register-button">
                    <button type="submit">Registrarse</button>
                </div>
            </form>
        </div>




    </main>



    <%- include('../partials/footer') %>

    <include src="/part-header.html"></include>


</body>

</html>